import React,{useEffect,useState} from 'react'; import TopNav from '../../components/TopNav'; import PrivateRoute from '../../components/PrivateRoute'; import api from '../api'; import { Container, Card, Table, Badge, Button } from 'react-bootstrap';
export default function VendorsList(){ const [vendors,setVendors]=useState([]); const load=async()=>{ try{ const {data}=await api.get('/admin/vendors'); setVendors(data);}catch{} }; useEffect(()=>{load();},[]); const remove=async(id)=>{ await api.delete(`/admin/vendors/${id}`); await load(); };
  return (<PrivateRoute allow={['admin']}><TopNav/><Container><Card className="p-3"><h5>All Vendors</h5><Table striped bordered hover><thead><tr><th>ID</th><th>Name</th><th>Email</th><th>Status</th><th>Actions</th></tr></thead><tbody>{vendors.map(v=>(<tr key={v.id}><td>{v.id}</td><td>{v.company_name||v.name}</td><td>{v.email}</td><td><Badge bg={v.status==='approved'?'success':'warning'}>{v.status}</Badge></td><td><Button variant="outline-danger" size="sm" onClick={()=>remove(v.id)}>Delete</Button></td></tr>))}</tbody></Table></Card></Container></PrivateRoute>); }
